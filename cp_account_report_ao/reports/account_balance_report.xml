<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="action_account_financial_balance" model="ir.actions.report">
            <field name="name">account_financial_balance</field>
            <field name="model">account.financial.balance</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">cp_account_report_ao.action_action_name</field>
            <field name="report_file">cp_account_report_ao.action_action_name</field>
        </record>

        <template id="cp_account_report_ao.action_action_name">
            <t t-call="web.report_layout">
                <t t-foreach="docs" t-as="o">
                    <t t-call="web.basic_layout">
                        <div class="header" style="color: #0B74CE">
                            <div class="row b_color">
                                <div class="col-8">
                                    <b>
                                        <span class="text-left" t-field="o.company_id"/>
                                    </b>
                                </div>
                                <div class="col-4" style="font-size:10px;">
                                    <ul class="list-inline text-right">
                                        <span t-esc="context_timestamp(datetime.datetime.now()).strftime(&apos;%Y-%m-%d %H:%M&apos;)"/>
                                        |
                                    Pag. <span class="page" /> / <span class="topage" />
                                       <!--<span t-esc="o.get_page_number(page)"/> -->

                                    </ul>
                                </div>
                            </div>
                            <br/>
                            <hr style="display: block; height: 1px; border: 0; border-top: 3px solid #0B74CE; margin: 0; padding: 0;"/>
                            <div class="row mt16">
                                <div class="col-6">
                                    <div align="left">
                                        <b class="b_color">
                                            Balanço
                                        (
                                            <span t-field="o.date_from"/>
                                            até
                                            <span t-field="o.date_to"/>
                                            )
                                        </b>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div align="right">
                                        <b class="b_color">
                                            Valores em
                                            <span t-esc="o.company_id.currency_id.symbol"/>
                                        </b>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="page">
                            <style>
                               th{
                                    font-size: 12px;
                                }
                                #titulo{
                                    font-size: 12px;
                                    border-bottom: 1px solid black;
                                    border-top: 1px solid #0B74CE;
                                    font-weight: bold;
                                    border-right: 1px solid black;
                                }
                                .subtitulo1{
                                    font-size: 11px;
                                    background-color: ;
                                    font-weight: bold;
                                    border-bottom: 1px solid black;
                                    border-left: 1px solid black;
                                    padding-top: 0px;
                                    padding-left: 3px;
                                    padding-bottom: 0px;
                                    border-right: 1px solid black;
                                }
                                .subtitulo{
                                    font-size: 11px;
                                    background-color: #dfe2e6;
                                    font-weight: bold;
                                    border-bottom: 1px solid black;
                                    border-left: 1px solid black;
                                    padding-top: 0px;
                                    padding-left: 6px;
                                    padding-bottom: 0px;
                                    border-right: 1px solid black;
                                }
                                td{
                                    margin-left: 10px;
                                }
                                .linhas{
                                    padding-left: 18px;
                                    padding-bottom: 2px;
                                    padding-top: 2px;
                                    border-bottom: 1px solid #c3c5c7;
                                    background-color: #f7f7e1;
                                    border-left: 1px solid black;
                                    border-right: 1px solid black;
                                }
                                .linhas1{
                                    padding-left: 18px;
                                    padding-bottom: 2px;
                                    padding-top: 2px;
                                    border-right: 1px solid black;
                                    border-left: 1px solid black;
                                }
                                #subtotal{
                                    padding-right: 20px;
                                    border-top: 1px solid black;
                                    border-left: 1px solid black;
                                    border-bottom: 1px solid black;
                                    border-right: 1px solid black;
                                }
                                .esquerda{
                                    float: left;
                                    margin-left: 60px;
                                    margin-top: 60px;
                                }
                                .direita{
                                    float: right;
                                    margin-right: 60px;
                                    margin-top: 60px;
                                }
                            </style>
                            <!-- <t t-if="o.enable_filter"> -->
                            <t>
                                <!-- <t t-set="date_from_cmp" t-value="o.get_first_fiscal_year()"/> -->
                                <t t-set="pp" t-value="o.get_date_to_befor()"/>
                                <t t-set="date_from_before" t-value="o.get_date_from_befor()"/>
                                <t t-set="date_first_year" t-value="o.get_first_fiscal_year()"/>
                                <t t-set="date_before_before" t-value="o.get_date_before_before()"/>
                            </t>
                            <table style="font-size:12px; width:100%;">
                                <thead>
                                    <tr>
                                        <t t-if="o.enable_filter">
                                        <th rowspan="2" id="titulo" class="text-center">Designação</th>
                                        <th rowspan="2" id="titulo" class="text-center">Notas</th>
                                            <th colspan="2" class="text-center" style="background-color:#0B74CE; color: white">
                                              Exercícios
                                              </th>
                                        </t>
                                        <t t-else="">
                                            <td></td>
                                            <td></td>
                                            <th class="text-center"  style="background-color:#0B74CE; color: white">
                                              Exercício
                                              </th>

                                        </t>
                                    </tr>
                                    <tr>

                                        <t t-if="o.enable_filter">
                                              <th class="text-center"  id="titulo">
                                            <span t-esc="time.strftime(&apos;%Y&apos;,time.strptime(str(o.date_to),&apos;%Y-%m-%d&apos;))"/>
                                        </th>
                                            <th class="text-center"  id="titulo">
                                                <span t-esc="time.strftime(&apos;%Y&apos;,time.strptime(str(pp),&apos;%Y-%m-%d&apos;))"/>
                                            </th>
                                        </t>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr></tr>
                                    <t t-if="o.enable_filter">
                                        <tr>
                                            <td class="subtitulo1">

                                                Ativo
                                            </td>
                                            <td></td>
                                            <td class="subtitulo"></td>
                                            <td class="subtitulo"></td>
                                        </tr>
                                        <tr>
                                            <td class="subtitulo">
                                                   Ativos não correntes:
                                            </td>
                                            <td></td>
                                            <td class="subtitulo"></td>
                                            <td class="subtitulo"></td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                            Imobilizações corpóreas
                                        </td>
                                            <td class="text-center">
                                            4
                                        </td>
                                           <td class="linhas" style="text-align: center">
                                            <t t-set ="imo_c" t-value="o.get_account_balance([11],date_first_year,o.date_to) + o.get_account_balance([181],date_first_year,o.date_to) + o.get_account_balance([14],date_first_year,o.date_to)
                                             "/>
                                                <span t-esc="abs(imo_c)"  t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                            <td class="linhas" style="text-align: center">
                                                 <t t-set ="imo_c_past" t-value="o.get_account_balance([11],date_before_before,pp) + o.get_account_balance([181],date_before_before,pp) + o.get_account_balance([14],date_before_before,pp)"/>
                                                <span t-esc="abs(imo_c_past)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                            Imobilizações incorpóreas
                                        </td>
                                            <td class="text-center">
                                            5
                                        </td>
                                            <t t-set ="imo_ic_past" t-value="o.get_account_balance([12],date_before_before,pp) + o.get_account_balance([182],date_before_before,pp)"/>
                                            <t t-set ="imo_ic" t-value="o.get_account_balance([12],date_first_year,o.date_to) + o.get_account_balance([182],date_first_year,o.date_to)
                                                "/>
                                            <td class="linhas" style="text-align: center">
                                               <span t-esc="abs( imo_ic)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                            <td class="linhas" style="text-align: center">
                                             

                                               <span t-esc="abs(imo_ic_past)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                           Investimentos em subsidiárias e associadas
                                        </td>
                                            <td class="text-center">
                                            6
                                        </td>
                                            <td class="linhas" style="text-align: center">  <t t-set ="invest_assoc" t-value="((o.get_account_balance([131],date_first_year,o.date_to)) +
                                                (o.get_account_balance([132],date_first_year,o.date_to)))"/>
                                                 <span t-esc="abs(invest_assoc)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                            <td class="linhas" style="text-align: center"> <t t-set ="invest_assoc_past" t-value="((o.get_account_balance([131],date_before_before,pp))
                                                 +(o.get_account_balance([132],date_before_before,pp)))"/>
                                                 <span t-esc="abs(invest_assoc_past)" t-options='{"widget": "float", "precision": 2}'/></td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                            Outros ativos financeiros
                                        </td>
                                            <td class="text-center">
                                            7
                                        </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set ="other_finance" t-value="(o.get_account_balance([139],date_first_year,o.date_to))
                                                "/>
                                                 <span t-esc="abs(other_finance)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                             <td class="linhas" style="text-align: center">
                                                <t t-set ="other_finance_past" t-value="(o.get_account_balance([139],date_before_before,pp))"/>
                                                 <span t-esc="abs(other_finance_past)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                           Outros ativos não correntes
                                        </td>
                                            <td class="text-center">
                                            9
                                        </td>
                                             <td class="linhas" style="text-align: center">
                                                <t t-set ="other_finance_c" t-value="0"/>

                                                ( <span t-esc="abs(other_finance_c)" t-options='{"widget": "float", "precision": 2}'/>)
                                            </td>
                                             <t t-set ="other_finance_c_past" t-value="0"/>
                                            <td class="linhas" style="text-align: center">
                                               (<span t-esc="abs(other_finance_c_past)" t-options='{"widget": "float", "precision": 2}'/>)

                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1" style="font-weight: bold">
                                                Total do activo não Correntes
                                        </td>
                                            <td class="text-center">
                                                <t t-set ="total_active_current" t-value="(imo_c)+(imo_ic)+(invest_assoc)
                                                +(other_finance)+(other_finance_c)"/>

                                            </td>
                                            <td class="linhas" style="text-align:center; font-weight: bold">
                                                  <t t-set ="total_active_current_past" t-value="(imo_c_past)+(imo_ic_past)+(invest_assoc_past)
                                                +(other_finance_past)+(other_finance_c_past)"/>

                                             <span t-esc="abs(total_active_current)" t-options='{"widget": "float", "precision": 2}'/>

                                            </td>
                                            <td class="linhas" style="text-align:center; font-weight: bold">
                                                 <span t-esc="abs(total_active_current_past)" t-options='{"widget": "float", "precision": 2}'/>

                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="subtitulo">
                                                    Ativos correntes:
                                            </td>
                                            <td class="text-center">

                                        </td>
                                            <td class="subtitulo"> </td>
                                            <td class="subtitulo"> </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                           Existências
                                        </td>
                                            <td class="text-center">
                                            8
                                        </td>
                                            <t t-set ="exist_co_vd_past" t-value="((o.get_account_balance([21],date_before_before,pp)) + (o.get_account_balance([22],date_before_before,pp)) + (o.get_account_balance([23],date_before_before,pp)) + (o.get_account_balance([24],date_before_before,pp))
                                            +(o.get_account_balance([26],date_before_before,pp)) +(o.get_account_balance([27],date_before_before,pp))+(o.get_account_balance([29],date_before_before,pp)))
                                              "/>
                                            <t t-set ="exist_co_vd" t-value="((o.get_account_balance([21],date_first_year,o.date_to))+(o.get_account_balance([22],date_first_year,o.date_to))+(o.get_account_balance([23],date_first_year,o.date_to))+(o.get_account_balance([24],date_first_year,o.date_to))+(o.get_account_balance([26],date_first_year,o.date_to))+(o.get_account_balance([27],date_first_year,o.date_to))+(o.get_account_balance([29],date_first_year,o.date_to)))"/>
                                             <!-- <t t-set /> -->
                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="abs(exist_co_vd)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="abs(exist_co_vd_past)"  t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                           Contas a receber
                                        </td>
                                            <td class="text-center">
                                            9
                                        </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set ="account_rec" t-value=" ((o.get_account_balance([311],date_first_year,o.date_to))
                                             +(o.get_account_balance([329],date_first_year,o.date_to))
                                             + (o.get_account_balance([363],date_first_year,o.date_to))
                                             + (o.get_account_balance([3417],date_first_year,o.date_to))
                                             + (o.get_account_balance([34572],date_first_year,o.date_to))
                                             + (o.get_account_balance([48],date_first_year,o.date_to))
                                             + (o.get_account_balance([3795],date_first_year,o.date_to))
                                             + (o.get_account_balance([3799],date_first_year,o.date_to))
                                             + (o.get_account_balance([3710],date_first_year,o.date_to)))
                                              " t-options='{"widget": "float", "precision": 2}'/>

                                                <span t-esc="abs(account_rec)" t-options='{"widget": "float", "precision": 2}'/>
                                        </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set ="account_rec_past" t-value="((o.get_account_balance([311],date_before_before,pp))
                                             +(o.get_account_balance([329],date_before_before,pp))
                                             + (o.get_account_balance([3416],date_before_before,pp)) + (o.get_account_balance([34572],date_before_before,pp)) + (o.get_account_balance([363],date_before_before,pp))+(o.get_account_balance([48],date_before_before,pp)))" t-options='{"widget": "float", "precision": 2}'/>

                                                <span t-esc="abs(account_rec_past)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                           Disponibilidades
                                        </td>
                                            <td class="text-center">
                                            10
                                        </td>
                                             <t t-set ="available_c" t-value="(o.get_account_balance([42],date_first_year,o.date_to))+(o.get_account_balance([44],date_first_year,o.date_to)) + (o.get_account_balance([43],date_first_year,o.date_to))+(o.get_account_balance([45],date_first_year,o.date_to))+(o.get_account_balance([41],date_first_year,o.date_to))
                                              "/>

                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="abs(available_c) " t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                             <t t-set ="available_past" t-value="(o.get_account_balance([41],date_before_before,pp))+(o.get_account_balance([42],date_before_before,pp))+(o.get_account_balance([43],date_before_before,pp))
                                             +(o.get_account_balance([44],date_before_before,pp))+(o.get_account_balance([45],date_before_before,pp))
                                             
                                              "/>
                                            <td class="linhas" style="text-align: center">
                                                 <span t-esc="abs(available_past)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                           Outros activos correntes

                                                <!-- Contas 21,22,26 e 29-->
                                        </td>
                                            <td class="text-center">
                                            12
                                        </td>
                                            <t t-set ="exist_co_vd" t-value=" (o.get_account_balance([374],date_first_year,o.date_to))"/>
                                            <td class="linhas" style="text-align: center">
                                              <span t-esc="abs(exist_co_vd)" t-options='{"widget": "float", "precision": 2}'/>

                                            </td>
                                            <t t-set ="exist_co_vd_past" t-value=" (o.get_account_balance([374],date_before_before,pp))"/>
                                            <td class="linhas" style="text-align: center">
                                            <span t-esc="abs(exist_co_vd_past)"  t-options='{"widget": "float", "precision": 2}'/>

                                            </td>
                                        </tr>

                                        <tr>
                                            <td class="linhas1" style="font-weight: bold">
                                               Total do activo  Correntes
                                        </td>
                                             <t t-set ="total_active_c_a" t-value=" (available_c) + (exist_co_vd)+(account_rec)
                                             "/>
                                            <td class="text-center">
                                            </td>
                                            <td class="linhas" style="text-align:center; font-weight: bold">
                                                <span t-esc="abs(total_active_c_a )" t-options='{"widget": "float", "precision": 2}'/>

                                            </td>
                                             <t t-set ="total_active_c_p" t-value=" (available_past) + (exist_co_vd_past)+(account_rec_past)
                                             "/>
                                            <td class="linhas" style="text-align:center; font-weight: bold">
                                                <span t-esc="abs(total_active_c_p)" t-options='{"widget": "float", "precision": 2}'/>

                                            </td>
                                        </tr>
                                         <tr>
                                            <td class="subtitulo">Total dos Activos  </td>
                                            <td class="text-center">
                                                 <t t-set ="total_actives" t-value="total_active_c_a + total_active_current"/>

                                            </td>
                                            <td class="subtitulo" style="text-align: center">
                                                <span t-esc="abs(total_actives)" t-options='{"widget": "float", "precision": 2}'/>


                                            </td>
                                                  <t t-set ="total_actives_p" t-value="total_active_c_p + total_active_current_past"/>

                                            <td class="subtitulo" style="text-align: center">
                                                      <span t-esc="abs(total_actives_p)" t-options='{"widget": "float", "precision": 2}'/>

                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="subtitulo1">
                                            Capital Próprio e Passivo
                                        </td>
                                            <td></td>
                                            <td class="subtitulo"></td>
                                            <td class="subtitulo"></td>
                                        </tr>
                                        <tr>
                                            <td class="subtitulo">
                                            Capital próprio:
                                            </td>
                                            <td></td>
                                            <td class="subtitulo"></td>
                                            <td class="subtitulo"></td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                           Capital
                                        </td>
                                            <td class="text-center">
                                            12
                                        </td>
                                             <t t-set ="capital" t-value="(o.get_account_balance([51],date_first_year,o.date_to))
                                            +(o.get_account_balance([52],date_first_year,o.date_to))"/>

                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="abs(capital)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                            <td class="linhas" style="text-align: center">
                                            <t t-set ="capital_past" t-value="(o.get_account_balance([51],date_before_before,pp))
                                            + (o.get_account_balance([52],date_before_before,pp)) "/>
                                               <span t-esc="abs(capital_past)" t-options='{"widget": "float", "precision": 2}'/>

                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                            Reservas
                                            </td>
                                            <td class="text-center">
                                                13
                                            </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set ="reserves_c_p" t-value="(o.get_account_balance([55],date_first_year,o.date_to))
                                                +(o.get_account_balance([56],date_first_year,o.date_to))
                                                +(o.get_account_balance([57],date_first_year,o.date_to))
                                                +(o.get_account_balance([58],date_first_year,o.date_to))
                                                
                                                "/>
                                                <span t-esc="abs(reserves_c_p)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set ="reserves_c_past" t-value="o.get_account_balance([55],date_before_before,pp)
                                                +o.get_account_balance([56],date_before_before,pp)
                                                +o.get_account_balance([57],date_before_before,pp)
                                                +o.get_account_balance([58],date_before_before,pp)
                                            "/>
                                                    <span t-esc="reserves_c_past" t-options='{"widget": "float", "precision": 2}'/>

                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                           Resultados transitados
                                        </td>
                                            <td class="text-center">
                                            14
                                        </td>
                                            <td class="linhas" style="text-align: center">
                                               <t t-set ="result_transits" t-value="o.get_account_balance([81],date_first_year,o.date_to)"/>
                                                <span t-esc="(abs(result_transits))" t-options='{"widget": "float", "precision": 2}'/>
                                            </td><t t-set ="result_transits_past" t-value="o.get_account_balance([81],date_before_before,pp)

                                            "/>
                                                <td class="linhas" style="text-align: center">
                                            <span t-esc="(abs(result_transits_past))" t-options='{"widget": "float", "precision": 2}'/>

                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                           Resultados do exercício
                                        </td>
                                        <td>
                                            <t t-set="sales" t-value="o.get_account_balance_per_period(61,o.date_from,o.date_to)"/>
                                            <t t-set="service_provision" t-value="o.get_account_balance_per_period(62,o.date_from,o.date_to)"/>
                                            <t t-set="other_operating_income" t-value="o.get_account_balance_per_period(63,o.date_from,o.date_to)"/>
                                            <t t-set="variation_product" t-value="o.get_account_balance_per_period(64,o.date_from,o.date_to)"/>
                                            <t t-set="work_enterprise" t-value="o.get_account_balance_per_period(65,o.date_from,o.date_to)"/>
                                            <t t-set="cost_sales" t-value="o.get_account_balance_per_period(71,o.date_from,o.date_to)"/>
                                            <t t-set="personal_cost" t-value="o.get_account_balance_per_period(72,o.date_from,o.date_to)"/>
                                            <t t-set="amortization" t-value="o.get_account_balance_per_period(73,o.date_from,o.date_to)"/>
                                            <t t-set="other_costs_operations"  t-value="o.get_account_balance_per_period(75,o.date_from,o.date_to)"/>

                                            <t t-set="operac_results"  t-value="sales + service_provision + other_operating_income +
                                                variation_product + work_enterprise + cost_sales + personal_cost + amortization + other_costs_operations"/>

                                            <t t-set="result_finance"  t-value="(o.get_account_balance_per_period(66, o.date_from,o.date_to) + o.get_account_balance_per_period(76, o.date_from,o.date_to))"/>
                                            <t t-set="result_filial_assoc"  t-value="o.get_account_balance_per_period(84,o.date_from,o.date_to)"/>

                                            <t t-set="result_n_operation" t-value="(o.get_account_balance_per_period(68,o.date_from,o.date_to) + o.get_account_balance_per_period(78, o.date_from,o.date_to))"/>
                                            <t t-set="result_before_impo"  t-value="(operac_results + result_finance + result_filial_assoc + result_n_operation)"/>

                                            <t t-set="operac_results"  t-value="sales + service_provision + other_operating_income +
                                                variation_product + work_enterprise + cost_sales + personal_cost + amortization + other_costs_operations"/>

                                            <t t-set="tax_rendiment"  t-value="o.get_account_balance_per_period(87, o.date_from,o.date_to)"/>
                                            <t t-set="result_liqui_corrent_active"  t-value="tax_rendiment + result_before_impo"/>
                                            
                                            <t t-set="exerc_liqui_result" t-value="result_liqui_corrent_active + tax_rendiment + o.get_account_balance_per_period(86, o.date_from,o.date_to)"/>
                                        </td>
                                        <td class="linhas" style="text-align: center">
                                            <t t-set ="capital_pro" t-value="exerc_liqui_result"/>
                                         <span t-esc="round(abs(capital_pro),2)" t-options='{"widget": "float", "precision": 2}'/>
                                        </td>
               
                                        <td class="linhas_past" style="text-align: center">
                                            <t t-set="sales_past" t-value="o.get_account_balance_per_period(61,date_first_year,pp)"/>
                                            <t t-set="service_provision_past" t-value="o.get_account_balance_per_period(62,date_first_year,pp)"/>
                                            <t t-set="other_operating_income_past" t-value="o.get_account_balance_per_period(63,date_first_year,pp)"/>
                                            <t t-set="variation_product_past" t-value="o.get_account_balance_per_period(64,date_first_year,pp)"/>
                                            <t t-set="work_enterprise_past" t-value="o.get_account_balance_per_period(65,date_first_year,pp)"/>
                                            <t t-set="cost_sales_past" t-value="o.get_account_balance_per_period(71,date_first_year,pp)"/>
                                            <t t-set="personal_cost_past" t-value="o.get_account_balance_per_period(72,date_first_year,pp)"/>
                                            <t t-set="amortization_past" t-value="o.get_account_balance_per_period(73,date_first_year,pp)"/>
                                            <t t-set="other_costs_operations_past"  t-value="o.get_account_balance_per_period(75,date_first_year,pp)"/>

                                            <t t-set="operac_results_past"  t-value="sales_past + service_provision_past + other_operating_income_past +
                                                variation_product_past + work_enterprise_past + cost_sales_past + personal_cost_past + amortization_past + other_costs_operations_past"/>

                                            <t t-set="result_finance_past"  t-value="(o.get_account_balance_per_period(66, date_first_year,pp) + o.get_account_balance_per_period(76, date_first_year,pp))"/>
                                            <t t-set="result_filial_assoc_past"  t-value="o.get_account_balance_per_period(84,date_first_year,pp)"/>

                                            <t t-set="result_n_operation_past" t-value="(o.get_account_balance_per_period(68,date_first_year,pp) + o.get_account_balance_per_period(78, date_first_year,pp))"/>
                                            <t t-set="result_before_impo_past"  t-value="(operac_results_past + result_finance_past + result_filial_assoc_past + result_n_operation_past)"/>

                                            <t t-set="operac_results_past"  t-value="sales_past + service_provision_past + other_operating_income_past +
                                                variation_product_past + work_enterprise_past + cost_sales_past + personal_cost_past + amortization_past + other_costs_operations_past"/>

                                            <t t-set="tax_rendiment_past"  t-value="o.get_account_balance_per_period(87, date_first_year,pp)"/>
                                            <t t-set="result_liqui_corrent_active_past"  t-value="tax_rendiment_past + result_before_impo_past"/>
                                            
                                            <t t-set="exerc_liqui_result_past" t-value="result_liqui_corrent_active_past + tax_rendiment_past + o.get_account_balance_per_period(86, date_first_year,pp)"/>
                                            <t t-set ="capital_pro_past" t-value="exerc_liqui_result_past"/>

                                            <span t-esc="round(abs(capital_pro_past),2)" t-options='{"widget": "float", "precision": 2}' />
                                        </td>


                                        <tr>
                                            <t t-set ="capital_pro" t-value="capital_pro"/>
                                            <t t-set ="capital_pro_past" t-value="capital_pro_past"/>
                                            <td class="linhas1" style="font-weight: bold">Total do Capital Próprio</td>
                                            <td class="text-center">

                                            </td>
                                            <td class="linhas" style="text-align:center; font-weight: bold">
                                                <t t-set ="total_capital" t-value="(capital)+(reserves_c_p)+(result_transits)+(capital_pro)"/>

                                             <span t-esc="abs(total_capital)" t-options='{"widget": "float", "precision": 2}'/>

                                            </td>
                                            <td class="linhas" style="text-align:center; font-weight: bold">
                                                <t t-set ="total_capital_past" t-value="(capital_past)+(reserves_c_past)+(result_transits_past)+(capital_pro_past)"/>

                                          <span t-esc="abs(total_capital_past)" t-options='{"widget": "float", "precision": 2}'/>

                                            </td>
                                        </tr>
                                        </tr>
                                        <tr>
                                            <td class="subtitulo">
                                            Passivo não corrente:
                                            </td>
                                            <td></td>
                                            <td class="subtitulo"></td>
                                            <td class="subtitulo"></td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                          Empréstimos de médio e longo prazos
                                        </td>
                                            <td class="text-center">
                                            15
                                        </td>
                                           <t t-set ="barrow_long" t-value="0"/>

                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="abs(barrow_long)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                            <t t-set ="barrow_long_past" t-value="0"/>

                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="abs(barrow_long_past)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                          Impostos diferidos
                                        </td>
                                            <td class="text-center">
                                            16
                                        </td>
                                             <t t-set ="tax_d" t-value="o.get_account_balance(39,date_first_year,o.date_to)"/>

                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="abs(tax_d)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                             <t t-set ="tax_d_past" t-value="0.00 + o.get_account_balance(39,date_first_year,pp)"/>

                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="abs(tax_d_past)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                            Provisões para pensões
                                        </td>
                                            <td class="text-center">
                                            17
                                        </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set ="prov" t-value="o.get_account_balance(39,date_first_year,o.date_to)"/>

                                                <span t-esc="abs(prov)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                            <td class="linhas" style="text-align: center">
                                                 <t t-set ="prov_past" t-value="o.get_account_balance(39,date_first_year,pp)"/>

                                                <span t-esc="abs(prov_past)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                            Provisões para outros riscos e encargos
                                        </td>
                                            <td class="text-center">
                                            18
                                        </td>
                                            <td class="linhas" style="text-align: center">
                                          <t t-set ="prov_risk" t-value="o.get_account_balance(38,date_first_year,o.date_to)"/>

                                                <span t-esc="abs(prov_risk)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                            <td class="linhas" style="text-align: center">
                                            <t t-set ="prov_risk_past" t-value="o.get_account_balance(38,date_first_year,pp)"/>
                                                 <span t-esc="abs(prov_risk_past)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                            Outros passivos não correntes
                                        </td>
                                            <td class="text-center">
                                            19
                                        </td>
                                            <td class="linhas" style="text-align: center"> </td>
                                            <td class="linhas" style="text-align: center"> </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1" style="font-weight: bold">Total do Passivo não Corrente </td>
                                            <td class="text-center">

                                            </td>
                                            <td class="linhas" style="text-align:center; font-weight: bold">
                                                <t t-set ="total_pass" t-value="(barrow_long)
                                                            +(tax_d)+(prov)+(prov_risk)"/>
                                             <span t-esc="abs(total_pass)" t-options='{"widget": "float", "precision": 2}'/>


                                            </td>
                                            <td class="linhas" style="text-align:center; font-weight: bold">
                                                 <t t-set ="total_pass_past" t-value="(barrow_long_past)
                                                            +(tax_d_past)+(prov_past)+(prov_risk_past)"/>
                                             <span t-esc="abs(total_pass_past)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="subtitulo">
                                            Passivo corrente:
                                            </td>
                                            <td class="text-center"></td>
                                            <td class="subtitulo"></td>
                                            <td class="subtitulo"></td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                            Contas a pagar
                                        </td>
                                            <td class="text-center">
                                            19
                                        </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set ="pay_account" t-value="(o.get_account_balance([321],date_first_year,o.date_to))
                                                +(o.get_account_balance([322],date_first_year,o.date_to))
                                                +(o.get_account_balance([343],date_first_year,o.date_to))
                                                +(o.get_account_balance([341],date_first_year,o.date_to))
                                                +(o.get_account_balance([342],date_first_year,o.date_to))
                                                +(o.get_account_balance([344],date_first_year,o.date_to))
                                                +(o.get_account_balance([349],date_first_year,o.date_to))
                                                 +(o.get_account_balance([321],date_first_year,o.date_to))
                                                +(o.get_account_balance([319],date_first_year,o.date_to))
                                                +(o.get_account_balance([345],date_first_year,o.date_to))
                                                +(o.get_account_balance([361],date_first_year,o.date_to))
                                                +(o.get_account_balance([369],date_first_year,o.date_to))"
                                                   t-options='{"widget": "float", "precision": 2}'/>

                                                <span t-esc="abs(pay_account)" t-options='{"widget": "float", "precision": 2}'/>

                                            </td>
                                             <t t-set ="pay_account_past" t-value="(o.get_account_balance([321],date_first_year,pp))
                                                +(o.get_account_balance([343],date_first_year,pp))
                                                +(o.get_account_balance([322],date_first_year,pp))
                                                +(o.get_account_balance([341],date_first_year,pp))
                                                +(o.get_account_balance([342],date_first_year,pp))
                                                +(o.get_account_balance([344],date_first_year,pp))
                                                +(o.get_account_balance([349],date_first_year,pp))
                                                 +(o.get_account_balance([321],date_first_year,pp))
                                                +(o.get_account_balance([319],date_first_year,pp))
                                                +(o.get_account_balance([345],date_first_year,pp))
                                                +(o.get_account_balance([361],date_first_year,pp))
                                                +(o.get_account_balance([369],date_first_year,pp))"/>
                                            <td class="linhas" style="text-align: center">
                                                       <span t-esc="abs(pay_account_past)" t-options='{"widget": "float", "precision": 2}'/>

                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                            Empréstimos de curto prazo
                                        </td>
                                            <td class="text-center">
                                            20
                                        </td>
                                             <td class="linhas" style="text-align: center">
                                                <t t-set ="emp_pra" t-value="(o.get_account_balance([33],date_first_year,o.date_to))
                                            "/><span t-esc="abs(emp_pra)" t-options='{"widget": "float", "precision": 2}'/>

                                            </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set ="emp_pra_past" t-value="(o.get_account_balance([33],date_first_year,pp))
                                            "/><span t-esc="abs(emp_pra_past)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                            Parte cor. dos empr. a médio e longo prazos </td>
                                            <td class="text-center">
                                            15
                                        </td>
                                            <td class="linhas" style="text-align: center">
                                                 <t t-set ="part_long" t-value="o.get_account_balance([3393],date_first_year,o.date_to)
                                            "/>
                                                 <span t-esc="abs(part_long)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set ="part_long_past" t-value="o.get_account_balance([3393],date_first_year,o.date_to)
                                            "/>
                                                 <span t-esc="abs(part_long_past)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                            Outros passivos correntes
                                        </td>
                                            <td class="text-center">
                                            21
                                        </td>
                                             <t t-set ="other_current" t-value="(o.get_account_balance([375],date_first_year,o.date_to))+
                                                (o.get_account_balance([376],date_first_year,o.date_to))
                                                +(o.get_account_balance([371],date_first_year,o.date_to))
                                                +(o.get_account_balance([372],date_first_year,o.date_to))
                                                +(o.get_account_balance([373],date_first_year,o.date_to))
                                                +(o.get_account_balance([378],date_first_year,o.date_to))
                                            "/>
                                            <td class="linhas" style="text-align: center">
                                                 <span t-esc="abs(other_current)" t-options='{"widget": "float", "precision": 2}'/>

                                            </td>
                                            <t t-set ="other_current_past" t-value="(o.get_account_balance([375],date_first_year,pp))
                                            +(o.get_account_balance([376],date_first_year,pp))
                                            +(o.get_account_balance([378],date_first_year,pp))
                                            +(o.get_account_balance([371],date_first_year,pp))
                                                +(o.get_account_balance([372],date_first_year,pp))
                                                +(o.get_account_balance([373],date_first_year,pp))
                                            "/>

                                            <td class="linhas" style="text-align: center">
                                              <span t-esc="abs(other_current_past)" t-options='{"widget": "float", "precision": 2}'/>

                                            </td>
                                        </tr>
                                         <tr>
                                            <td class="subtitulo">Total do Passivo Corrente</td>
                                            <td class="text-center">
                                                 <t t-set ="total_passive_c" t-value="(pay_account) + (part_long) +(emp_pra)+(other_current)
                                             "/>

                                            </td>
                                            <td class="subtitulo" style="text-align:center; font-weight: bold">
                                                 <span t-esc="abs(total_passive_c)" t-options='{"widget": "float", "precision": 2}'/>

                                            </td>
                                            <t t-set ="total_passive_c_past" t-value="(pay_account_past) + (part_long_past)+ (emp_pra_past)
                                            +(other_current_past)
                                             "/>
                                            <td class="subtitulo" style="text-align:center; font-weight: bold">

                                              <span t-esc="abs(total_passive_c_past)" t-options='{"widget": "float", "precision": 2}'/>

                                            </td>
                                        </tr>

                                        <tr>
                                            <td class="subtitulo">Total dos Passivo</td>
                                            <td class="text-center">
                                                 <t t-set ="total_passives_e" t-value="(total_pass) + (total_passive_c)
                                             "/>

                                            </td>
                                            <td class="subtitulo" style="text-align:center; font-weight: bold">

                                                 <span t-esc="abs(total_passives_e)" t-options='{"widget": "float", "precision": 2}'/>

                                            </td>
                                            <t t-set ="total_passives_e_past" t-value="(total_pass_past) + (total_passive_c_past)
                                             "/>
                                            <td class="subtitulo" style="text-align:center; font-weight: bold">

                                              <span t-esc="abs(total_passives_e_past)" t-options='{"widget": "float", "precision": 2}'/>

                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="subtitulo">
                                            Total do capital próprio e passivo
                                        </td>
                                            <td class="text-center">
                                            <t t-set ="total_passive_pr" t-value="total_passives_e + total_capital "/>
                                           <t t-set ="total_passive_pr_past" t-value="total_passives_e_past + total_capital_past "/>

                                            </td>
                                            <td class="subtitulo" style="text-align:center; font-weight: bold">
                                                <span t-esc="abs(total_passive_pr)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                             <td class="subtitulo" style="text-align:center; font-weight: bold">
                                                <span t-esc="abs(total_passive_pr_past)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                        </tr>


                                    </t>
                                    <t t-else="">
                                         <tr>
                                            <td id="titulo" class="text-center">Designação</td>
                                            <td id="titulo" class="text-center">Notas</td>
                                            <td class="text-center" style="border-bottom:0 !important;" id="titulo">
                                                <span t-esc="time.strftime(&apos;%Y&apos;,time.strptime(str(o.date_to),&apos;%Y-%m-%d&apos;))"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="subtitulo1">
                                                Ativo
                                            </td>
                                            <td></td>
                                            <td class="subtitulo"></td>
                                        </tr>
                                        <tr>
                                            <td class="subtitulo">
                                                    Ativos não correntes:
                                            </td>
                                            <td></td>
                                            <td class="subtitulo"></td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                                Imobilizações corpóreas
                                            </td>
                                            <td class="text-center">
                                                4
                                            </td>
                                             <td class="linhas" style="text-align: center">
                                                <t t-set ="imo_c" t-value="o.get_account_balance([11],date_first_year,o.date_to) + o.get_account_balance([181],date_first_year,o.date_to) + o.get_account_balance([14],date_first_year,o.date_to)"/>
                                                <span t-esc="abs(imo_c)"  t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                                Imobilizações incorpóreas
                                            </td>
                                            <td class="text-center">
                                                5
                                            </td>
                                            <t t-set ="imo_ic" t-value="o.get_account_balance([12],date_first_year,o.date_to) + o.get_account_balance([182],date_first_year,o.date_to)
                                            "/>

                                            <td class="linhas" style="text-align: center">
                                               <span t-esc="abs(imo_ic)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                                Investimentos em subsidiárias e associadas
                                            </td>
                                            <td class="text-center">
                                                6
                                            </td>
                                            <t t-set ="invest_assoc" t-value="((o.get_account_balance([131],date_first_year,o.date_to)) +
                                                (o.get_account_balance([132],date_first_year,o.date_to)))"/>
                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="abs(invest_assoc)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                                Outros ativos financeiros
                                            </td>
                                            <td class="text-center">
                                                7
                                            </td>
                                            <td class="linhas" style="text-align: center">
                                            <t t-set ="other_finance" t-value="(o.get_account_balance([139],date_first_year,o.date_to))
                                            "/>
                                             <span t-esc="abs(other_finance)" t-options='{"widget": "float", "precision": 2}'/>
                                        </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                                Outros ativos não correntes
                                            </td>
                                            <td class="text-center">
                                                9
                                            </td>
                                            <td class="linhas" style="text-align: center">
                                            <t t-set ="other_finance_c" t-value="0"/>

                                            ( <span t-esc="abs(other_finance_c)" t-options='{"widget": "float", "precision": 2}'/>)
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1" style="font-weight: bold">
                                                <p >Total do activo não Correntes</p>
                                            </td>
                                            <td class="text-center">
                                                <t t-set ="total_active_current" t-value="imo_c+imo_ic+invest_assoc+other_finance+other_finance_c"/>
                                            </td>
                                            <td class="linhas" style="text-align:center; font-weight: bold">
                                                <span t-esc="total_active_current" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="subtitulo">
                                                Ativos correntes:
                                            </td>
                                            <td class="text-center">
                                            </td>
                                            <td class="subtitulo"></td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                                Existências
                                            </td>
                                            <td class="text-center">
                                                8
                                            </td>
                                               <t t-set ="exist_co_vd" t-value="((o.get_account_balance([21],date_first_year,o.date_to))+(o.get_account_balance([22],date_first_year,o.date_to))+(o.get_account_balance([23],date_first_year,o.date_to))+(o.get_account_balance([24],date_first_year,o.date_to))+(o.get_account_balance([26],date_first_year,o.date_to))+(o.get_account_balance([27],date_first_year,o.date_to))+(o.get_account_balance([29],date_first_year,o.date_to)))
                                                "/>
                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="abs(exist_co_vd)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                                Contas a receber
                                            </td>
                                            <td class="text-center">
                                                9
                                            </td>
                                            <td class="linhas" style="text-align: center">
                                            <t t-set ="account_rec" t-value="((o.get_account_balance([311],date_first_year,o.date_to))
                                             +(o.get_account_balance([329],date_first_year,o.date_to))
                                             + (o.get_account_balance([363],date_first_year,o.date_to))
                                             + (o.get_account_balance([3417],date_first_year,o.date_to))
                                             + (o.get_account_balance([34572],date_first_year,o.date_to))
                                             + (o.get_account_balance([48],date_first_year,o.date_to))
                                             + (o.get_account_balance([3795],date_first_year,o.date_to))
                                             + (o.get_account_balance([3799],date_first_year,o.date_to))
                                             + (o.get_account_balance([37910],date_first_year,o.date_to)))
                                             "
                                              t-options='{"widget": "float", "precision": 2}'/>

                                            <span t-esc="abs(account_rec)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                                Disponibilidades
                                            </td>
                                            <td class="text-center">
                                                10
                                            </td>
                                            <t t-set ="available_c" t-value="(o.get_account_balance([41],date_first_year,o.date_to))+(o.get_account_balance([42],date_first_year,o.date_to))+(o.get_account_balance([43],date_first_year,o.date_to))+(o.get_account_balance([44],date_first_year,o.date_to))+(o.get_account_balance([45],date_first_year,o.date_to))
                                             "/>

                                       <td class="linhas" style="text-align: center">
                                           <span t-esc="abs(available_c) " t-options='{"widget": "float", "precision": 2}'/>
                                       </td>
                                        </tr>
                                         <tr>
                                            <td class="linhas1">
                                                Outros activos correntes
                                        </td>
                                            <td class="text-center">
                                            11
                                        </td>
                                            <td class="linhas" style="text-align: center">
                                            <t t-set ="other_current" t-value="(o.get_account_balance([374],date_first_year,o.date_to))
                                            "/>
                                            <span t-esc="abs(other_current)" t-options='{"widget": "float", "precision": 2}'/>
                                        </td>
                                        </tr>
                                          <tr>
                                            <td class="linhas1" style="font-weight: bold">
                                                <p >Total do activo Corrente</p>
                                            </td>
                                            <td class="text-center">
                                                <t t-set ="total_active_c_a" t-value="available_c + exist_co_vd + account_rec + other_current"/>
                                            </td>
                                            <td class="linhas" style="text-align:center; font-weight: bold">
                                                <span t-esc="abs(total_active_c_a)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                        </tr>
                                         <tr>
                                             <td class="subtitulo">Total dos Activos</td>
                                            <td class="text-center">
                                                 <t t-set ="total_actives" t-value="total_active_c_a + total_active_current"/>

                                            </td>
                                            <td class="subtitulo" style="text-align: center">
                                                <span t-esc="abs(total_actives)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>

                                        </tr>
                                        <tr>
                                            <td class="subtitulo1">
                                                Capital Próprio e Passivo
                                            </td>
                                            <td> </td>
                                            <td class="subtitulo"> </td>
                                        </tr>
                                        <tr>
                                            <td class="subtitulo">
                                                Capital próprio:
                                            </td>
                                            <td> </td>
                                            <td class="subtitulo"> 

                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                                Capital
                                            </td>
                                            <td class="text-center">
                                                12
                                            </td>
                                            <!-- <t t-set="date_from_cmp" t-value="o.prev_accounting_year().date_from"/>
                                            <t t-set="pp" t-value="o.prev_accounting_year().date_to"/> -->
                                            <t t-set ="capital" t-value="(o.get_account_balance([51],date_first_year,o.date_to))
                                            +(o.get_account_balance([52],date_first_year,o.date_to))"/>

                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="abs(capital)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>

                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                           Reservas
                                        </td>
                                            <td class="text-center">
                                            13
                                        </td>
                                            <td class="linhas" style="text-align: center">
                                            <t t-set ="reserves_c_p" t-value="(o.get_account_balance([55],date_first_year,o.date_to))
                                            +abs(o.get_account_balance([56],date_first_year,o.date_to))
                                            +abs(o.get_account_balance([57],date_first_year,o.date_to))
                                            +abs(o.get_account_balance([58],date_first_year,o.date_to))
                                            
                                           "/>
                                             <span t-esc="abs(reserves_c_p)" t-options='{"widget": "float", "precision": 2}'/>
                                           </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                           Resultados transitados
                                        </td>
                                            <td class="text-center">
                                            14
                                        </td>
                                             <td class="linhas" style="text-align: center">
                                            <t t-set ="result_transits" t-value="(o.get_account_balance_per_period([81],date_first_year,o.date_to))

                                         "/>
                                             <span t-esc="(abs(result_transits))" t-options='{"widget": "float", "precision": 2}'/>
                                         </td>
                                        </tr>
                                        <tr>
                                        <td class="linhas1">
                                           Resultados do exercício
                                        </td>
                                        <td>
                                            <t t-set="sales" t-value="o.get_account_balance_per_period(61,o.date_from,o.date_to)"/>
                                            <t t-set="service_provision" t-value="o.get_account_balance_per_period(62,o.date_from,o.date_to)"/>
                                            <t t-set="other_operating_income" t-value="o.get_account_balance_per_period(63,o.date_from,o.date_to)"/>
                                            <t t-set="variation_product" t-value="o.get_account_balance_per_period(64,o.date_from,o.date_to)"/>
                                            <t t-set="work_enterprise" t-value="o.get_account_balance_per_period(65,o.date_from,o.date_to)"/>
                                            <t t-set="cost_sales" t-value="o.get_account_balance_per_period(71,o.date_from,o.date_to)"/>
                                            <t t-set="personal_cost" t-value="o.get_account_balance_per_period(72,o.date_from,o.date_to)"/>
                                            <t t-set="amortization" t-value="o.get_account_balance_per_period(73,o.date_from,o.date_to)"/>
                                            <t t-set="other_costs_operations"  t-value="o.get_account_balance_per_period(75,o.date_from,o.date_to)"/>

                                            <t t-set="operac_results"  t-value="sales + service_provision + other_operating_income +
                                                variation_product + work_enterprise + cost_sales + personal_cost + amortization + other_costs_operations"/>

                                            <t t-set="result_finance"  t-value="(o.get_account_balance_per_period(66, o.date_from,o.date_to) + o.get_account_balance_per_period(76, o.date_from,o.date_to))"/>
                                            <t t-set="result_filial_assoc"  t-value="o.get_account_balance_per_period(84,o.date_from,o.date_to)"/>

                                            <t t-set="result_n_operation" t-value="(o.get_account_balance_per_period(68,o.date_from,o.date_to) + o.get_account_balance_per_period(78, o.date_from,o.date_to))"/>
                                            <t t-set="result_before_impo"  t-value="(operac_results + result_finance + result_filial_assoc + result_n_operation)"/>

                                            <t t-set="operac_results"  t-value="sales + service_provision + other_operating_income +
                                                variation_product + work_enterprise + cost_sales + personal_cost + amortization + other_costs_operations"/>

                                            <t t-set="tax_rendiment"  t-value="o.get_account_balance_per_period(87, o.date_from,o.date_to)"/>
                                            <t t-set="result_liqui_corrent_active"  t-value="tax_rendiment + result_before_impo"/>
                                            
                                            <t t-set="exerc_liqui_result" t-value="result_liqui_corrent_active + tax_rendiment + o.get_account_balance_per_period(86, o.date_from,o.date_to)"/>
                                        </td>
                                        <td class="linhas" style="text-align: center">
                                            <t t-set ="capital_pro" t-value="exerc_liqui_result"/>
                                         <span t-esc="round(abs(capital_pro),2)" />
                                        </td>
                                        </tr>
                                         <tr>
                                            <td class="linhas1" style="font-weight: bold">
                                                Total do Capital Próprio
                                            </td>
                                            <td>
                                                <t t-set ="total_capital" t-value="capital+reserves_c_p+result_transits+capital_pro"/>

                                            </td>

                                            <td class="linhas" style="text-align:center; font-weight: bold">
                                                <span t-esc="abs(total_capital)" t-options='{"widget": "float", "precision": 2}'/>

                                            </td>

                                        </tr>
                                        <tr>
                                            <td class="subtitulo">
                                                Passivo não corrente:
                                             </td>
                                            <td></td>
                                            <td class="subtitulo"></td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                          Empréstimos de médio e longo prazos
                                        </td>
                                            <td class="text-center">
                                            15
                                        </td>
                                             <t t-set ="barrow_long" t-value="0"/>

                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="abs(barrow_long)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                          Impostos diferidos
                                        </td>
                                            <td class="text-center">
                                            16
                                        </td>
                                            <t t-set ="tax_d" t-value="o.get_account_balance(39,date_first_year,o.date_to)"/>

                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="abs(tax_d)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                            Provisões para pensões
                                        </td>
                                            <td class="text-center">
                                            17
                                        </td>
                                            <t t-set ="prov" t-value="o.get_account_balance(39,date_first_year,o.date_to)"/>

                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="abs(prov)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                            Provisões para outros riscos e encargos
                                        </td>
                                            <td class="text-center">
                                            18
                                        </td>
                                             <t t-set ="prov_risk" t-value="o.get_account_balance(38,date_first_year,o.date_to)"/>


                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="abs(prov_risk)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                            Outros passivos não correntes
                                        </td>
                                            <td class="text-center">
                                            19
                                        </td>
                                            <td class="linhas" style="text-align: center"></td>
                                        </tr>
                                          <tr>
                                            <td class="linhas1" style="font-weight: bold">
                                                Total do Passivo não corrente
                                        </td>
                                            <td>
                                                <t t-set ="total_pass" t-value="abs(barrow_long)
                                                +abs(tax_d)+abs(prov)+abs(prov_risk)"/>
                                            </td>

                                            <td class="linhas" style="text-align:center; font-weight: bold">
                                                <span t-esc="abs(total_pass)" t-options='{"widget": "float", "precision": 2}'/>

                                            </td>

                                        </tr>
                                        <tr>
                                            <td class="subtitulo">
                                               Passivo corrente:
                                            </td>
                                            <td class="text-center"></td>
                                            <td class="subtitulo"></td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                            Contas a pagar
                                        </td>
                                            <td class="text-center">
                                            19
                                        </td>
                                            <!-- <t>
                                                
                                                +(o.get_account_balance_per_period([34],date_from_before,o.date_to))
                                                
                                            </t> -->
                                            <t t-set ="pay_account" t-value="(o.get_account_balance([319],date_first_year,o.date_to))
                                                +(o.get_account_balance([321],date_first_year,o.date_to))
                                                +(o.get_account_balance([322],date_first_year,o.date_to))
                                                +(o.get_account_balance([3411],date_first_year,o.date_to))
                                                +(o.get_account_balance([3413],date_first_year,o.date_to))
                                                +(o.get_account_balance([343],date_first_year,o.date_to))                                                                                              
                                                +(o.get_account_balance([3456],date_first_year,o.date_to))
                                                +(o.get_account_balance([347],date_first_year,o.date_to))
                                                +(o.get_account_balance([349],date_first_year,o.date_to))
                                                +(o.get_account_balance([361],date_first_year,o.date_to))
                                                +(o.get_account_balance([362],date_first_year,o.date_to))
                                                +(o.get_account_balance([363],date_first_year,o.date_to))
                                                +(o.get_account_balance([369],date_first_year,o.date_to))
                                                +(o.get_account_balance([3794],date_first_year,o.date_to))
                                                +(o.get_account_balance([3796],date_first_year,o.date_to))                                                
                                                "
                                                   t-options='{"widget": "float", "precision": 2}'/>

                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="abs(pay_account)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                            <!-- <t 
                                            +(o.get_account_balance([341],date_first_year,o.date_to))
                                                +(o.get_account_balance([342],date_first_year,o.date_to))
                                                +(o.get_account_balance([344],date_first_year,o.date_to))
                                                +(o.get_account_balance([349],date_first_year,o.date_to))
                                                +(o.get_account_balance([361],date_first_year,o.date_to))
                                                +(o.get_account_balance([369],date_first_year,o.date_to))/> -->
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                            Empréstimos de curto prazo
                                        </td>
                                            <td class="text-center">
                                            20
                                        </td>
                                           <td class="linhas" style="text-align: center">
                                                <t t-set ="emp_pra" t-value="abs(o.get_account_balance([33],date_first_year,o.date_to))
                                                "/>
                                                    <span t-esc="abs(emp_pra)" t-options='{"widget": "float", "precision": 2}'/>

                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                            Parte cor. dos empr. a médio e longo prazos </td>
                                            <td class="text-center">
                                            15
                                        </td>
                                             <t t-set ="part_long" t-value="o.get_account_balance([3393],date_first_year,o.date_to)
                                            "/>

                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="abs(part_long)" />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                            Outros passivos correntes
                                        </td>
                                            <td class="text-center">
                                            21
                                        </td>
                                              <t t-set ="other_current" t-value="(o.get_account_balance([375],date_first_year,o.date_to))+
                                                (o.get_account_balance([378],date_first_year,o.date_to))
                                                +(o.get_account_balance([376],date_first_year,o.date_to))
                                                +(o.get_account_balance([371],date_first_year,o.date_to))
                                                +(o.get_account_balance([372],date_first_year,o.date_to))
                                                +(o.get_account_balance([373],date_first_year,o.date_to))
                                            "/>
                                            <td class="linhas" style="text-align: center">
                                                 <span t-esc="abs(other_current)" t-options='{"widget": "float", "precision": 2}'/>

                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1" style="font-weight: bold">Total do Passivo Corrente</td>
                                            <td class="text-center">
                                              <t t-set ="total_passive_c" t-value="(pay_account) + (part_long) +(emp_pra)+(other_current)"/>

                                            </td>
                                            <td class="linhas" style="text-align:center; font-weight: bold">
                                                 <span t-esc="abs(total_passive_c)" t-options='{"widget": "float", "precision": 2}'/>

                                            </td>
                                        </tr>
                                         <tr>
                                            <td class="subtitulo">Total dos Passivo</td>
                                            <td class="text-center">

                                            </td>
                                            <td class="subtitulo" style="text-align:center; font-weight: bold">
                                                <t t-set ="total_passives_e" t-value="(total_pass) + (total_passive_c)
                                             "/>
                                                <span t-esc="abs(total_passives_e)" t-options='{"widget": "float", "precision": 2}'/>

                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="subtitulo">
                                                Total do capital próprio e passivo
                                        </td>
                                            <td class="text-center" style="border-bottom:1px solid black">
                                            </td>
                                                <td class="subtitulo" style="text-align:center; font-weight: bold">
                                                        <t t-set ="total_passive_pr" t-value="(total_passives_e) +(total_capital) "/>

                                                <span t-esc="abs(total_passive_pr)" t-options='{"widget": "float", "precision": 2}'/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td> </td>
                                            <td class="text-center"> </td>
                                            <td> </td>
                                        </tr>
                                    </t>
                                </tbody>
                            </table>
                            <div class="esquerda"><p style="text-align:center; margin-bottom:0px;">O Contabilista</p>_________________
                            <br><p t-field="o.accountent" style="text-align:center;"></p>
                            </br></div>
                            <div class="direita"><p style="text-align:center; margin-bottom:0px">O Gestor</p>______________________
                                <br/><p t-field="o.manager" style="text-align:center;"></p></div>
                        </div>
                    </t>
                </t>
            </t>
        </template>
    </data>
</odoo>