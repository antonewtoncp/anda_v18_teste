<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="action_account_demonstration_nat_report" model="ir.actions.report">
            <field name="name">Demonstração por natureza</field>
            <field name="model">account.demonstration</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">cp_account_report_ao.demonstration_nat_report</field>
            <field name="report_file">cp_account_report_ao.demonstration_nat_report</field>
        </record>
        <template id="demonstration_nat_report">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-call="web.basic_layout">
                        <div class="header" style="color: #0B74CE">
                            <div class="row b_color">
                                <div class="col-8">
                                    <b>
                                        <span class="text-left" t-field="o.company_id"/>
                                    </b>
                                </div>
                                <div class="col-4" style="font-size:10px;">
                                    <ul class="list-inline text-right">
                                        <span t-esc="context_timestamp(datetime.datetime.now()).strftime(&apos;%Y-%m-%d %H:%M&apos;)"/>
                                    |
                                    Pag. <span class="page"/>/<span class="topage"/>
                                    </ul>
                                </div>
                            </div>
                            <br/>
                            <hr style="display: block; height: 1px; border: 0; border-top: 3px solid #0B74CE; margin: 0; padding: 0;"/>
                            <div class="row mt16">
                                <div class="col-6">
                                    <div align="left">
                                        <b class="b_color">
                                        Demonstra de Resultados por Natureza
                                        (<span t-field="o.date_from"/> até <span t-field="o.date_to"/>)
                                    </b>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div align="right">
                                        <b class="b_color">Valores em <span t-esc="o.company_id.currency_id.symbol"/>
                                        </b>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="page">
                            <style>
                                 th{
                                    font-size: 12px;
                                }
                                #titulo{
                                    font-size: 12px;
                                    border-bottom: 1px solid black;
                                    border-top: 1px solid #0B74CE;
                                    font-weight: bold;
                                    border-right: 1px solid black;
                                }
                                .subtitulo{
                                    font-size: 11px;
                                    background-color: #dfe2e6;
                                    font-weight: bold;
                                    border-bottom: 1px solid black;
                                    border-left: 1px solid black;
                                    padding-top: 2px;
                                    padding-left: 3px;
                                    padding-bottom: 2px;
                                    border-right: 1px solid black;
                                }
                                td{
                                    margin-left: 10px;
                                }
                                .linhas{
                                    padding-left: 18px;
                                    padding-bottom: 3px;
                                    padding-top: 3px;
                                    border-bottom: 1px solid #c3c5c7;
                                    background-color: #f7f7e1;
                                    border-left: 1px solid black;
                                    border-right: 1px solid black;
                                }
                                .linhas1{
                                    padding-left: 18px;
                                    padding-bottom: 3px;
                                    padding-top: 3px;
                                    border-right: 1px solid black;
                                    border-left: 1px solid black;
                                }
                                #subtotal{
                                    padding-right: 20px;
                                    border-top: 1px solid black;
                                    border-left: 1px solid black;
                                    border-bottom: 1px solid black;
                                    border-right: 1px solid black;
                                }
                                .esquerda{
                                    float: left;
                                    margin-left: 60px;
                                    margin-top: 300px;
                                }
                                .direita{
                                    float: right;
                                    margin-right: 60px;
                                    margin-top: 300px;
                                }
                            </style>
                            <t t-if="o.enable_filter">
                                <t t-set="date_from_cmp" t-value="o.prev_accounting_year().date_from"/>
                                <t t-set="date_to_cmp" t-value="o.prev_accounting_year().date_to"/>
                            </t>

                            <table style="font-size:11px; width:100%;">
                                 <thead>

                                    <tr>
                                        <t t-if="o.enable_filter">
                                        <th rowspan="2" id="titulo" class="text-center">Designação</th>
                                        <th rowspan="2" id="titulo" class="text-center">Notas</th>
                                            <th colspan="2" class="text-center" style="background-color:#0B74CE; color: white">
                                              Exercícios
                                              </th>
                                        </t>
                                        <t t-else="">
                                            <td></td>
                                            <td></td>
                                            <th class="text-center"  style="background-color:#0B74CE; color: white">
                                              Exercício
                                              </th>

                                        </t>
                                    </tr>
                                    <tr>

                                        <t t-if="o.enable_filter">
                                              <th class="text-center"  id="titulo">
                                            <span t-esc="time.strftime(&apos;%Y&apos;,time.strptime(str(o.date_to),&apos;%Y-%m-%d&apos;))"/>
                                        </th>
                                            <th class="text-center"  id="titulo">
                                                <span t-esc="time.strftime(&apos;%Y&apos;,time.strptime(str(date_to_cmp),&apos;%Y-%m-%d&apos;))"/>
                                            </th>
                                        </t>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr></tr>
                                    <t t-if="o.enable_filter">
                                        <tr>
                                            <td class="linhas1">
                                              Vendas
                                          </td>
                                            <td class="text-center">
                                              22
                                          </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set="imo_c" t-value="o.get_account_balance([61],o.date_from,o.date_to)"/>
                                                <span t-esc="abs(imo_c)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set="imo_c_past" t-value="o.get_account_balance([61],date_from_cmp,date_to_cmp)"/>
                                                <span t-esc="abs(imo_c_past)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                          Prestações de Serviços
                                              </td>
                                            <td class="text-center">
                                              23
                                          </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set="imo_ic" t-value="o.get_account_balance([62],o.date_from,o.date_to)"/>
                                                <span t-esc="abs(imo_ic)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set="imo_ic_past" t-value="o.get_account_balance([62],date_from_cmp,date_to_cmp)"/>
                                                <span t-esc="abs(imo_ic_past)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                             Outros Proveitos Operacionais
                                          </td>
                                            <td class="text-center">
                                              24
                                          </td>
                                            <t t-set="invest_assoc" t-value="(o.get_account_balance([63],o.date_from,o.date_to))"/>
                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="abs(invest_assoc)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set="invest_assoc_past" t-value="(o.get_account_balance([63],date_from_cmp,date_to_cmp))
                                                   "/>
                                                <span t-esc="abs(invest_assoc_past)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                              Variações nos Produtos acabados e produtos em via de Fabrico
                                          </td>
                                            <td class="text-center">
                                              25
                                          </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set="other_finance" t-value="(o.get_account_balance([64],o.date_from,o.date_to))
                                                      "/>
                                                <span t-esc="abs(other_finance)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set="other_finance_past" t-value="(o.get_account_balance([64],date_from_cmp,date_to_cmp))
                                                       "/>
                                                <span t-esc="abs(other_finance_past)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                             Trabalhos para a Própria Empresa
                                          </td>
                                            <td class="text-center">
                                              26
                                          </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set="other_finance_c" t-value="o.get_account_balance([65],o.date_from,o.date_to)"/>
                                                <span t-esc="abs(other_finance_c)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                            <t t-set="other_finance_c_past" t-value="o.get_account_balance([65],date_from_cmp,date_to_cmp)"/>
                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="other_finance_c_past" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                                  Custos ds Mercadorias  Vendidas e das matérias-primas e subdiárias consumidas
                                            </td>
                                            <td class="text-center">
                                                  27
                                            </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set="total_active_current" t-value="o.get_account_balance([71],o.date_from,o.date_to)"/>
                                                <span t-esc="total_active_current" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set="total_active_current_past" t-value="o.get_account_balance([71],date_from_cmp,date_to_cmp)"/>
                                                <span t-esc="total_active_current_past" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                        </tr>

                                        <tr>
                                            <td class="linhas1">
                                            Custos com o Pessoal

                                                  <!-- Contas 21,22,26 e 29--></td>
                                            <td class="text-center">
                                              28
                                          </td>
                                            <t t-set="exist_co_vd" t-value="(o.get_account_balance([72],o.date_from,o.date_to))

                                                "/>
                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="abs(exist_co_vd)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/><!--<span t-esc="o.format(o.get_account_balance([26],o.date_from,o.date_to))" />
                                               <span t-esc="o.format(o.get_account_balance([21],o.date_from,o.date_to))" /> -->
                                            </td>
                                            <t t-set="exist_co_vd_past" t-value="(o.get_account_balance([72],date_from_cmp,date_to_cmp))

                                                "/>
                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="abs(exist_co_vd_past)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                             Amortizações
                                                  <!--  Comntas 31 e 37 --></td>
                                            <td class="text-center">
                                              29
                                          </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set="account_rec" t-value=" (o.get_account_balance([73],o.date_from,o.date_to))
                                                " t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                                <span t-esc="abs(account_rec)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set="account_rec_past" t-value="(o.get_account_balance([73],date_from_cmp,date_to_cmp))

                                                " t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                                <span t-esc="abs(account_rec_past)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                        </tr><!-- Disponibilidade Conta 43 e 45  -->
                                        <tr>
                                            <td class="linhas1">
                                             Outros Custos e Perdas operacionais
                                          </td>
                                            <td class="text-center">
                                              30
                                          </td>
                                            <t t-set="available_c" t-value="(o.get_account_balance([75],o.date_from,o.date_to))"/>
                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="abs(available_c) " t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                            <t t-set="available_past" t-value=" (o.get_account_balance([75],date_from_cmp,date_to_cmp))"/>
                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="abs(available_past)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="subtitulo">
                                                Resultados Operacionais:
                                            </td>
                                            <td ></td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set="operac_results"
                                                t-value="imo_c + imo_ic + invest_assoc + account_rec + exist_co_vd + total_active_current + other_finance_c + other_finance + available_c"/>  
                                                <b>
                                                    <t t-if="0 > operac_results" t-esc="operac_results * (-1)" t-options='{"widget": "float", "precision": 2}'/>
                                                    <t t-if="operac_results > 0" t-esc="operac_results" t-options='{"widget": "float", "precision": 2}'/>
                                                </b>
                                            </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set="operac_results_past"
                                                t-value="imo_c_past + imo_ic_past + invest_assoc_past + account_rec_past + exist_co_vd_past + total_active_current_past + other_finance_c_past + other_finance_past + available_past"/>  
                                                <b><t t-if="0 > operac_results_past" t-esc="operac_results_past * (-1)" t-options='{"widget": "float", "precision": 2}'/></b>
                                                <b><t t-if="operac_results_past > 0" t-esc="operac_results_past" t-options='{"widget": "float", "precision": 2}'/></b>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                                  Resultados financeiros
                                          </td>
                                            <td class="text-center">
                                                  31
                                              </td>
                                              <t t-set="available_c_f" t-value="(o.get_account_balance([66],o.date_from,o.date_to) + o.get_account_balance([76],o.date_from,o.date_to))
                                               "/>
                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="abs(available_c_f)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                            <t t-set="available_c_f_past" t-value="(o.get_account_balance([66],date_from_cmp,date_to_cmp) + o.get_account_balance([76],date_from_cmp,date_to_cmp))
                                               "/>
                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="abs(available_c_f_past)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                                 Resultados de filias e associados
                                              </td>
                                            <td class="text-center">
                                                  32
                                                   <t t-set="total_actives" t-value="(o.get_account_balance([84],o.date_from,o.date_to))"/>
                                            </td>
                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="abs(total_actives)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                            <t t-set="total_actives_p" t-value="(o.get_account_balance([84],date_from_cmp,date_to_cmp))"/>
                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="abs(total_actives_p)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <tr>
                                                <td class="linhas1">
                                             Resultados não Operacionais
                                          </td>
                                                <td class="text-center">
                                              33
                                          </td>
                                                <t t-set="capital" t-value="(o.get_account_balance([68],o.date_from,o.date_to) + o.get_account_balance([78],o.date_from,o.date_to))
                                              "/>
                                                <td class="linhas" style="text-align: center">
                                                    <span t-esc="abs(capital)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                                </td>
                                                <td class="linhas" style="text-align: center">
                                                    <t t-set="capital_past" t-value="(o.get_account_balance([68],date_from_cmp,date_to_cmp) + o.get_account_balance([78],date_from_cmp,date_to_cmp))
                                               "/>
                                                    <span t-esc="abs(capital_past)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                                </td>
                                            </tr>
                                             <tr>
                                            <td  class="text-right" id="subtotal">
                                                <b>
                                                    
                                                </b>
                                            </td>
                                            <td class="text-center">
                                                
                                            </td>
                                            <td style="border-right: 1px solid black; border-bottom: 1px solid black; text-align: center; background-color: #f7f7e1; border-left: 1px solid black;"> <!--<b>67890987</b> --></td>
                                            <td style="border-right: 1px solid black; border-bottom: 1px solid black; text-align: center; background-color: #f7f7e1; border-left: 1px solid black;"> <!--<b>67890987</b> --> </td>
                                        </tr>
                                            <tr>
                                                <td class="subtitulo">
                                              Resultados antes de Impostos:
                                          </td>
                                          <td class="text-center"></td>
                                          <td class="linhas" style="text-align: center">
                                            <t t-set="result_before_impo"
                                               t-value="round((operac_results + available_c_f + total_actives +  capital),2)"/>
                                            <b><t t-if="0 > result_before_impo" t-esc="result_before_impo * (-1)" t-options='{"widget": "float", "precision": 2}'/>
                                            <t t-if="result_before_impo > 0" t-esc="result_before_impo" t-options='{"widget": "float", "precision": 2}'/>
                                            </b>
                                          </td>
                                          <td class="linhas" style="text-align: center">
                                            <t t-set="result_before_impo_past"
                                               t-value="round((operac_results_past + available_c_f_past + total_actives_p +  capital_past),2)"/>
                                            <b><t t-if="0 > result_before_impo_past" t-esc="result_before_impo_past * (-1)" t-options='{"widget": "float", "precision": 2}'/>
                                            <t t-if="result_before_impo_past > 0" t-esc="result_before_impo_past" t-options='{"widget": "float", "precision": 2}'/>
                                            </b>
                                          </td>
                                            </tr>
                                            <tr>
                                                <td class="linhas1">
                                             Imposto sobre o rendimento:
                                          </td>
                                                <td class="text-center">
                                              35
                                          </td>
                                                <td class="linhas" style="text-align: center; border-bottom:1px solid black">
                                                    <t t-set="reserves_c_p" t-value="(o.get_account_balance([87],o.date_from,o.date_to))

                                              "/>
                                                    <span t-esc="abs(reserves_c_p)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                                </td>
                                                <td class="linhas" style="text-align: center; border-bottom:1px solid black">
                                                    <t t-set="reserves_c_past" t-value="o.get_account_balance([87],date_from_cmp,date_to_cmp)

                                              "/>
                                                    <span t-esc="abs(reserves_c_past)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                                </td>
                                            </tr>
                                             <tr>
                                            <td  class="text-right" id="subtotal">
                                                <b>
                                                    
                                                </b>
                                            </td>
                                            <td class="text-center">

                                            </td>
                                            <td style="border-right: 1px solid black; border-bottom: 1px solid black; text-align: center; background-color: #f7f7e1; border-left: 1px solid black;"><!--<b>67890987</b> --></td>
                                            <td style="border-right: 1px solid black; border-bottom: 1px solid black; text-align: center; background-color: #f7f7e1; border-left: 1px solid black;"> <!--<b>67890987</b> --> </td>
                                        </tr>
                                            <tr>
                                                <td class="subtitulo">
                                              Resultados líquidos das actividades correntes:
                                          </td>
                                                <td></td>
                                                <td class="linhas" style="text-align: center">
                                                    <t t-set="result_reserves_c_p"
                                                    t-value="round((result_before_impo + reserves_c_p),2)"/>
                                                    <b><t t-if="0 > result_reserves_c_p" t-esc="result_reserves_c_p * (-1)" t-options='{"widget": "float", "precision": 2}'/>
                                                    <t t-if="result_reserves_c_p > 0" t-esc="result_reserves_c_p" t-options='{"widget": "float", "precision": 2}'/>
                                                    </b>
                                                </td>
                                                <td class="linhas" style="text-align: center">
                                                    <t t-set="result_reserves_c_past"
                                                    t-value="round((result_before_impo_past + reserves_c_past),2)"/>
                                                    <b><t t-if="0 > result_reserves_c_past" t-esc="result_reserves_c_past * (-1)" t-options='{"widget": "float", "precision": 2}'/>
                                                    <t t-if="result_reserves_c_past > 0" t-esc="result_reserves_c_past" t-options='{"widget": "float", "precision": 2}'/>
                                                    </b>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="linhas1">
                                             Resultados Estraordinários
                                          </td>
                                                <td class="text-center">
                                              34
                                          </td>
                                                <td class="linhas" style="text-align: center">
                                                    <t t-set="result_transits" t-value="o.get_account_balance([86],o.date_from,o.date_to)

                                              "/>
                                                    <span t-esc="(abs(result_transits))" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                                </td>
                                                <t t-set="result_transits_past" t-value="o.get_account_balance([86],date_from_cmp,date_to_cm)

                                              "/>
                                                <td class="linhas" style="text-align: center">
                                                    <span t-esc="(abs(result_transits_past))" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="linhas1">
                                             Imposto sobre Rendimento
                                          </td>
                                                <td class="text-center">
                                                  35
                                                  <t t-set="capital_pro" t-value="o.get_account_balance([87],o.date_from,o.date_to)"/>
                                                </td>
                                                <td class="linhas" style="text-align: center; border-bottom:1px solid black">
                                                    <span t-esc="abs(capital_pro)"/>
                                                </td>
                                                <t t-set="capital_pro_past" t-value="o.get_account_balance([87],date_from_cmp,date_to_cmp)"/>
                                                <td class="linhas" style="text-align: center; border-bottom:1px solid black">
                                                    <span t-esc="abs(capital_pro_past)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                                </td>
                                            </tr>
                                              <tr>
                                            <td  class="text-right" id="subtotal">
                                                <b>
                                                    
                                                </b>
                                            </td>
                                            <td class="text-center">

                                            </td>
                                            <td style="border-right: 1px solid black; border-bottom: 1px solid black; text-align: center; background-color: #f7f7e1; border-left: 1px solid black;"><!--<b>67890987</b> --> </td>
                                            <td style="border-right: 1px solid black; border-bottom: 1px solid black; text-align: center; background-color: #f7f7e1; border-left: 1px solid black;"><!--<b>67890987</b> --> </td>
                                        </tr>
                                            <tr>
                                                <td class="subtitulo">
                                              Resultados líquidos do Exercício:
                                          </td>
                                                <td></td>
                                                <td class="linhas" style="text-align: center; border-bottom:1px solid black">
                                                    <t t-set="result_l_exec"
                                                    t-value="round((result_reserves_c_p + capital_pro + result_transits),2)"/>
                                                    <b><t t-if="0 > result_l_exec" t-esc="result_l_exec * (-1)" t-options='{"widget": "float", "precision": 2}'/>
                                                    <t t-if="result_l_exec > 0" t-esc="result_l_exec" t-options='{"widget": "float", "precision": 2}'/>
                                                    </b>
                                                </td>
                                                <td class="linhas" style="text-align: center; border-bottom:1px solid black">
                                                    <t t-set="result_l_exec_past"
                                                    t-value="round((result_reserves_c_past + capital_pro_past + result_transits_past),2)"/>
                                                    <b><t t-if="0 > result_l_exec_past" t-esc="result_l_exec_past * (-1)" t-options='{"widget": "float", "precision": 2}'/>
                                                    <t t-if="result_l_exec_past > 0" t-esc="result_l_exec_past" t-options='{"widget": "float", "precision": 2}'/>
                                                    </b>
                                                </td>
                                            </tr>
                                            <tr>
                                            <td  class="text-right" id="subtotal">
                                                <b>
                                                    
                                                </b>
                                            </td>
                                            <td class="text-center">

                                            </td>
                                            <td style="border-right: 1px solid black; border-bottom: 1px solid black; text-align: center; background-color: #f7f7e1; border-left: 1px solid black;"> <!--<b>67890987</b> --></td>
                                            <td style="border-right: 1px solid black; border-bottom: 1px solid black; text-align: center; background-color: #f7f7e1; border-left: 1px solid black;"><!--<b>67890987</b> --> </td>
                                        </tr>
                                        </tr>
                                    </t>
                                    <t t-else="">
                                       <tr>
                                            <td id="titulo" class="text-center">Designação</td>
                                            <td id="titulo" class="text-center">Notas</td>
                                            <td class="text-center" style="border-bottom:0 !important;" id="titulo">
                                                <span t-esc="time.strftime(&apos;%Y&apos;,time.strptime(str(o.date_to),&apos;%Y-%m-%d&apos;))"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                            Vendas
                                        </td>
                                            <td class="text-center">
                                                22

                                        </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set="imo_c" t-value="o.get_account_balance([61],o.date_from,o.date_to)"/>
                                                <span t-esc="abs(imo_c)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                            Prestações de serviço
                                        </td>
                                            <td class="text-center">
                                            23
                                        </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set="imo_ic" t-value="o.get_account_balance([62],o.date_from,o.date_to)"/>
                                                <span t-esc="abs(imo_ic)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                             Outros Proveitos Operacionais
                                          </td>
                                            <td class="text-center">
                                              24
                                          </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set="invest_assoc" t-value="(o.get_account_balance([63],o.date_from,o.date_to))"/>
                                                <span t-esc="abs(invest_assoc)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                              Variações nos Produtos acabados e produtos em via de Fabrico
                                          </td>
                                            <td class="text-center">
                                              25
                                          </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set="other_finance" t-value="(o.get_account_balance([64],o.date_from,o.date_to))
                                                      "/>
                                                <span t-esc="abs(other_finance)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                             Trabalhos para a Própria Empresa
                                          </td>
                                            <td class="text-center">
                                              26
                                          </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set="other_finance_c" t-value="o.get_account_balance([65],o.date_from,o.date_to)"/>
                                                <span t-esc="abs(other_finance_c)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                                  Custos ds Mercadorias  Vendidas e das matérias-primas e subdiárias consumidas
                                          </td>
                                            <td class="text-center">
                                                  27
                                                </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set="total_active_current" t-value="o.get_account_balance([71],o.date_from,o.date_to)"/>
                                                <span t-esc="total_active_current" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                            Custos com o Pessoal

                                                  <!-- Contas 21,22,26 e 29--></td>
                                            <td class="text-center">
                                              28
                                          </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set="exist_co_vd" t-value=" (o.get_account_balance([72],o.date_from,o.date_to))"/>
                                                <span t-esc="abs(exist_co_vd)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/><!--<span t-esc="o.format(o.get_account_balance([26],o.date_from,o.date_to))" />
                                               <span t-esc="o.format(o.get_account_balance([21],o.date_from,o.date_to))" /> -->
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                             Amortizações
                                                  <!--  Comntas 31 e 37 --></td>
                                            <td class="text-center">
                                              29
                                          </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set="account_rec" t-value=" (o.get_account_balance([73],o.date_from,o.date_to))" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                                <span t-esc="abs(account_rec)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                             Outros Custos e Perdas operacionais
                                          </td>
                                            <td class="text-center">
                                              30
                                          </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set="available_c" t-value="(o.get_account_balance([75],o.date_from,o.date_to))"/>
                                                <span t-esc="abs(available_c) " t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="subtitulo">
                                              Resultados Operacionais:
                                          </td>
                                            <td></td>
                                            <td class="linhas" style="text-align: center"> 
                                                <t t-set="operac_results"
                                                t-value="imo_c + imo_ic + invest_assoc + account_rec + exist_co_vd + total_active_current + other_finance_c + other_finance + available_c"/>  
                                                <b>
                                                    <t t-if="0 > operac_results" t-esc="operac_results * (-1)" t-options='{"widget": "float", "precision": 2}'/>
                                                    <t t-if="operac_results > 0" t-esc="operac_results" t-options='{"widget": "float", "precision": 2}'/>
                                                </b>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                                  Resultados financeiros
                                          </td>
                                            <td class="text-center">
                                              31

                                            </td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set="total_active_c_a" t-value=" (o.get_account_balance([66],o.date_from,o.date_to) + o.get_account_balance([76],o.date_from,o.date_to))
                                                   "/>
                                                <span t-esc="abs(total_active_c_a)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="linhas1">
                                                 Resultados de filias e associados
                                              </td>
                                            <td class="text-center">
                                                  32
                                                   <t t-set="total_actives" t-value="(o.get_account_balance([84],o.date_from,o.date_to))"/>
                                            </td>
                                            <td class="linhas" style="text-align: center">
                                                <span t-esc="abs(total_actives)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                        </tr>
                                        <tr>    <tr>
                                                <td class="linhas1">
                                                    Resultados não Operacionais
                                          </td>
                                                <td class="text-center">
                                              33
                                          </td>
                                                <t t-set="capital" t-value="(o.get_account_balance([68],o.date_from,o.date_to) + o.get_account_balance([78],o.date_from,o.date_to))
                                              "/>
                                                <td class="linhas" style="text-align: center; border-bottom:1px solid black">
                                                    <span t-esc="abs(capital)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                                </td></tr>
                                            <tr>
                                            <td  class="text-right" id="subtotal">
                                                <b>
                                                    
                                                </b>
                                            </td>

                                            <td style="border-bottom: 1px solid white; border-top: 1px solid white"> </td>
                                            <td style="border-right: 1px solid black; border-bottom: 1px solid black; text-align: center; background-color: #f7f7e1; border-left: 1px solid black;"> <!--<b>67890987</b> --> </td>
                                        </tr>
                                            <tr>
                                                <td class="subtitulo">
                                              Resultados antes de Impostos:
                                          </td>
                                                <td></td>
                                            <td class="linhas" style="text-align: center">
                                                <t t-set="result_before_impo"
                                                t-value="round((operac_results + total_active_c_a + total_actives +  capital),2)"/>
                                                <b><t t-if="0 > result_before_impo" t-esc="result_before_impo * (-1)" t-options='{"widget": "float", "precision": 2}'/>
                                                <t t-if="result_before_impo > 0" t-esc="result_before_impo" t-options='{"widget": "float", "precision": 2}'/>
                                                </b>
                                            </td>                                            </tr>
                                            <tr>
                                                <td class="linhas1">
                                                    Imposto sobre o rendimento
                                                </td>
                                                <td class="text-center">
                                              35
                                          </td>
                                                <td class="linhas" style="text-align: center; border-bottom:1px solid black">
                                                    <t t-set="reserves_c_p" t-value="(o.get_account_balance([87],o.date_from,o.date_to))"/>
                                                    <span t-esc="abs(reserves_c_p)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                                </td>
                                            </tr>
                                            <tr>
                                            <td  class="text-right" id="subtotal">
                                                <b>
                                                    
                                                </b>
                                            </td>
                                            <td style="border-bottom: 1px solid white; border-top: 1px solid white"> </td>
                                            <td style="border-right: 1px solid black; border-bottom: 1px solid black; text-align: center; background-color: #f7f7e1; border-left: 1px solid black;"><!--<b>67890987</b> --> </td>
                                        </tr>
                                            <tr>
                                                <td class="subtitulo">
                                                    Resultados líquidos das actividades correntes:
                                                </td>
                                                <td></td>
                                                <td class="linhas" style="text-align: center">
                                                    <t t-set="result_reserves_c_p"
                                                    t-value="round((result_before_impo + reserves_c_p),2)"/>
                                                    <b><t t-if="0 > result_reserves_c_p" t-esc="result_reserves_c_p * (-1)" t-options='{"widget": "float", "precision": 2}'/>
                                                    <t t-if="result_reserves_c_p > 0" t-esc="result_reserves_c_p" t-options='{"widget": "float", "precision": 2}'/>
                                                    </b>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="linhas1">
                                                    Resultados Estraordinários
                                                </td>
                                                <td class="text-center">
                                                    34
                                                </td>
                                                <td class="linhas" style="text-align: center">
                                                    <t t-set="result_transits" t-value="o.get_account_balance([86],o.date_from,o.date_to)"/>
                                                    <span t-esc="(abs(result_transits))" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="linhas1">
                                             Imposto sobre Rendimento
                                          </td>
                                                <td class="text-center">
                                                  35
                                                  <t t-set="capital_pro" t-value="o.get_account_balance([87],o.date_from,o.date_to)"/>
                                                </td>
                                                <td class="linhas" style="text-align: center; border-bottom:1px solid black">
                                                    <span t-esc="abs(capital_pro)"/>
                                                </td>
                                            </tr>
                                             <tr>
                                            <td  class="text-right" id="subtotal">
                                                <b>
                                                    
                                                </b>
                                            </td>
                                            <td style="border-bottom: 1px solid white; border-top: 1px solid white"> </td>
                                            <td style="border-right: 1px solid black; border-bottom: 1px solid black; text-align: center; background-color: #f7f7e1; border-left: 1px solid black;"></td>
                                        </tr>
                                            <tr>
                                                <td class="subtitulo">
                                                    Resultados líquidos do Exercício:
                                                </td>
                                                <td></td>
                                                <!-- <td class="linhas" style="text-align: center; border-bottom:1px solid black">
                                                    <t t-set="reserves_c_p" t-value="(o.get_account_balance([88],o.date_from,o.date_to))"/>
                                                <span t-esc="abs(reserves_c_p)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>

                                                </td> -->
                                                <td class="linhas" style="text-align: center; border-bottom:1px solid black">
                                                    <t t-set="result_l_exec"
                                                    t-value="round((result_reserves_c_p + capital_pro + result_transits),2)"/>
                                                    <b><t t-if="0 > result_l_exec" t-esc="result_l_exec * (-1)" t-options='{"widget": "float", "precision": 2}'/>
                                                    <t t-if="result_l_exec > 0" t-esc="result_l_exec" t-options='{"widget": "float", "precision": 2}'/>
                                                    </b>
                                                </td>
                                            </tr>
                                             <tr>
                                            <td  class="text-right" id="subtotal">
                                                <b>
                                                    
                                                </b>
                                            </td>
                                            <td style="border-bottom: 1px solid white; border-top: 1px solid white"> </td>
                                            <td style="border-right: 1px solid black; border-bottom: 1px solid black; text-align: center; background-color: #f7f7e1; border-left: 1px solid black;"> <!--<b>67890987</b> --> </td>
                                        </tr>
                                        </tr>
                                    </t>
                                </tbody>
                            </table>
                            <div class="esquerda"><p style="text-align:center; margin-bottom:0px;">O Contabilista</p>_________________
                            <br><p t-field="o.accountent" style="text-align:center;"></p>
                            </br></div>
                            <div class="direita"><p style="text-align:center; margin-bottom:0px">O Gestor</p>______________________
                                <br/><p t-field="o.manager" style="text-align:center;"></p></div>
                        </div>
                    </t>
                </t>
            </t>
        </template>
    </data>
</odoo>