<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- modify employee tree view -->
    <record id="ao_employee_tree_view" model="ir.ui.view">
        <field name="name">Ahr.employee.tree</field>
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="hr.view_employee_tree"/>
        <field name="arch" type="xml">
            <field name="name" position="after">
                <field name="employee_number"/>
            </field>
            <field name="parent_id" position="after" widget="badge">
                <field name="age"/>
            </field>
            <!--<field name="phone" position="after">
                 <field name="qualification"/>
            </field>-->
        </field>
    </record>


    <!-- modify employee form view -->
    <record id="ao_employee_form_view" model="ir.ui.view">
        <field name="name">hr.employee.form</field>
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="hr.view_employee_form"/>
        <field name="priority">1024</field>
        <field name="arch" type="xml">

            <!-- <field name="address_id" position="replace"/>-->
            <field name="bank_account_id" position="replace"/>
            <xpath expr="//field[@name='work_email']" position="after">
                <field name="is_governing_body" widget="boolean_toggle"/>
            </xpath>
            <xpath expr="//div[hasclass('oe_title')]/h1" position="before">
                <field name="employee_type" widget="radio" class="oe_edit_only" options="{'horizontal': true}" invisible="1"/>
            </xpath>
            <xpath expr="//div[hasclass('oe_title')]/h1" position="after">
                <h1>
                    <field name="employee_number" placeholder="Employee Number" readonly="1"/>
                </h1>
            </xpath>
            <xpath expr="//div[hasclass('oe_title')]/h2" position="replace">
                <h2>
                    <field name="job_id" placeholder="Job position"/>
                </h2>
            </xpath>
            <xpath expr="//field[@name='contract_id']" position="after">
                <field name="structure_type_id" invisible="0"
                       options="{'no_create': True, 'no_open': True}"/>
            </xpath>

            <!-- <field name="work_location" position="replace">
                 <field name="establishment"/>
             </field>-->
            <field name="birthday" position="replace">
                <field name="birthday" required="1"/>
            </field>
             <field name="birthday" position="before">
                <field name="bi_emission"  attrs="{'invisible': [('is_foreign', '=', True)]}"/>
            </field>
            <field name="department_id" position="before">
                <field name="admission_date" required="0"/>
                <field name="last_work_date" required="0"/>
            </field>
            <field name="country_id" position="after">
                <field name="is_foreign" widget="boolean_toggle"/>
                <field name="location_province" attrs="{'invisible': [('is_foreign', '=', True)]}" domain="[('country_id','=',country_id)]"
                       options="{'no_quick_create': True, 'no_create_edit' : True}"/>
                <!--                <field name="County_address" attrs="{'invisible':[('location_province','=', False)]}"-->
                <!--                        domain="[('state_id','=',location_province)]"  options="{'no_quick_create': True, 'no_create_edit' : True}"/>-->
                <!--
                 -->

            </field>
            <field name="passport_id" position="after">
                <field name="fiscal_number"/>
                <field name="social_security"/>
            </field>

             <field name="identification_id" position="replace">
                <field name="identification_id"/>
            </field>


            <!-- <field name="address_home_id" position="replace">
                 <field name="address_address"/>
                 <field name="personal_mobile_1"/>
                 <field name="personal_mobile_2"/>
                 <field name="personal_home_landline"/>
                 <field name="personal_email"/>
             </field>-->
            <xpath expr="//page[@name='personal_information']/group/group" position="after">
                <group string="Filiação" cols="2" name="parent_group">
                    <field name="father" string="Pai"/>
                    <field name="mother" string="Mãe"/>
                </group>
            </xpath>
            <!--<xpath expr="//page[@name='hr_settings']/group/group" position="after">
                <field name="payment_method" groups="hr_payroll.group_hr_payroll_user"
                           required="1"/>
            </xpath>
            <xpath expr="//notebook/page[3]" position="inside">
                <group string="Activos da Empresa em uso" name="assets_group">
                    <field name="company_assets" groups="hr_payroll.group_hr_payroll_user"
                           widget="many2many_checkboxes"/>
                </group>
            </xpath>-->
            <xpath expr="//page[@name='personal_information']/group/group[4]" position="before">
                <group string="Dados da conta bancária">
                    <field name="bank_bank" attrs="{'required':[('payment_method','=','bank')]}" string="Banco"
                           options="{'no_quick_create': True, 'no_create_edit' : True}"/>
                    <field name="bank_account" string="conta bancária"/>
                    <field name="bank_iban" string="IBAN"  attrs="{ 'invisible': [('is_foreign', '=', True)],'required': [('payment_method', '=', 'bank')]}"/>
<!--
                    <field name="bank_iban" attrs="{'invisible': [('is_foreign', '=', True)]} " string="IBAN"/>
-->
                    <field name="payment_method" groups="hr_payroll.group_hr_payroll_user" string="Metodo de pagamento"
                           widget="radio"
                           required="1"/>
                </group>
                <group>
                    <field name="has_criminal_record" widget="boolean_toggle"/>
                    <field name="has_taxpayer_card" widget="boolean_toggle"/>
                    <field name="has_medical_certificate" widget="boolean_toggle"/>
                    <field name="has_account_bank" widget="boolean_toggle"/>
                    <field name="has_household" widget="boolean_toggle"/>
                    <field name="has_driving_license" widget="boolean_toggle"/>
                    <field name="has_bi" widget="boolean_toggle"/>
                    <field name="end_date" invisible="1"/>
                </group>
            </xpath>
            <xpath expr="//page[@name='hr_settings']/group/group" position="replace">
                <group string="Status" name="active_group">
                    <field name="user_id" string="Related User" domain="[('share', '=', False)]"/>
                    <field name="cp_employee_type" invisible="1"/>

                </group>

            </xpath>
            <!--          <xpath expr="//notebook/page[2]/group/group[2]" position="after">-->
            <!--                 <group string="Emergences Contacts">-->
            <!--                     <field name="emergence_contact"/>-->
            <!--                 </group>-->
            <!--             </xpath>-->

            <!-- <xpath expr="//notebook/page[@name='hr_settings']" position="after">
                 <page name="hr_task" string="Tasks">
                     <field name="task_id">
                         <tree editable="top" create="0" delete="0">
                             <field name="name" readonly="1"/>
                             <field name="start_date" readonly="1"/>
                             <field name="end_date" readonly="1"/>
                             <field name="total_time" readonly="1" widget="time"/>
                             <field name="state" readonly="1"/>
                             <button name="start_task" type="object" title="Start" icon="fa-play"
                                     attrs="{'invisible':[('state','in', ['in_progress','done', 'canceled'] )]}"/>
                             <button name="cancel_task" type="object" title="Cancel" icon="fa-close"
                                     attrs="{'invisible':[('state','not in', ['in_progress'] )]}"/>
                             <button name="done_task" type="object" title="Done" icon="fa-check"
                                     attrs="{'invisible':[('state','not in', ['in_progress'] )]}"/>

                         </tree>
                     </field>
                 </page>
             </xpath>-->
            <xpath expr="//page[@name='hr_settings']" position="before">
                <page string="Descrições das Funções">
                    <field name="functions_descriptions"/>
                </page>
                <page string="Assinaturas digitais" name="signature">
                    <field name="sign_signature" widget="signature"
                           options="{'full_name': 'display_name', 'size': ['',200]}"/>
                </page>
            </xpath>
        </field>
    </record>
</odoo>